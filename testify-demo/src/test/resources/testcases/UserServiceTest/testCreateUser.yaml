variables:
  userId: test-123
  userName: "Test User"
  email: test@example.com
  nowTime: ${#time.now()}

input:
  - test-1234
  - "Test User"
  - test@example.com

setup:
  clean_sql: DELETE FROM users WHERE user_id = '${userId}';
#  db_setup:
#    - table: users
#      data: # 模式 A：直接定义数据行
#        - user_id: ${userId}
#          user_name: "Admin"

expect:
  # 预期响应结果
  response:
    userId: "sadasdasdasdasdasdasdasdasdasdasdasdtest-12342"
    createdAt:
      op: approx
      val: ${nowTime}
  database:
    table: users
    mode: strict
    rows:
      - _match: { user_id: "test-1234" }
        user_name: "Test User"
        email: test@example.com2
        status: ACTIVE
        created_at:
          op: approx
          val: ${nowTime}