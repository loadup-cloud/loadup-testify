variables:
  userId: "Exception-123"
  userName: "${faker.name().firstName()}"
  email: "${faker.internet().emailAddress()}"
  nowTime: ${time.now()}

input:
  users: { userId: '${userId}',
           userName: '${userName}',
           email: '${email}' }


setup:
  clean_sql: DELETE FROM users WHERE user_id = '${userId}';
#  db_setup:
#    - table: users
#      data: # 模式 A：直接定义数据行
#        - user_id: ${userId}
#          user_name: ${userName}
mocks:
  # 场景1：基础 Mock，匹配任意入参，返回动态生成的随机数据
  - bean: "orderService"
    args:
      orderId: "${userId}"
      orderName: "${userName}"
    method: "createOrder"
    thenThrow:
      type: 'java.lang.IllegalArgumentException'
      message: 'Simulated exception for userId: ${userId}'
#    thenReturn:
#      orderId: "123456"
#      orderName: ${userName}

expect:
  exception:
    type: 'java.lang.IllegalArgumentException'
    message: 'Simulated exception for userId: ${userId}'
